# ==============================================
# Match Scorer CDK Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values

# ==============================================
# Existing Infrastructure (Optional)
# ==============================================
# If you have existing MSK and VPC, specify them here
# If not set, new resources will be created

# Existing MSK Cluster ARN (optional)
# Format: arn:aws:kafka:region:account:cluster/cluster-name/uuid
# Note: If using existing MSK, also provide security group ID below
# EXISTING_MSK_CLUSTER_ARN=arn:aws:kafka:us-east-1:123456789012:cluster/your-cluster/abc-123

# Existing MSK Security Group ID (optional, recommended when using existing MSK)
# Get this using: aws kafka describe-cluster --cluster-arn "YOUR_MSK_ARN" --query "ClusterInfo.BrokerNodeGroupInfo.SecurityGroups[0]" --output text
# Format: sg-xxxxxxxxxxxxxxxxx
# EXISTING_MSK_SECURITY_GROUP_ID=sg-0123456789abcdef0

# Existing VPC ID (optional)
# Format: vpc-xxxxxxxxxxxxxxxxx
# EXISTING_VPC_ID=vpc-0123456789abcdef0

# Existing Private Subnet IDs (optional, comma-separated)
# Format: subnet-xxxxxxxxx,subnet-yyyyyyyyy
# EXISTING_PRIVATE_SUBNET_IDS=subnet-0123456789abcdef0,subnet-0123456789abcdef1

# Existing Security Group IDs (optional, comma-separated)
# Format: sg-xxxxxxxxx,sg-yyyyyyyyy
# Note: These are used for Lambda and ECS tasks to communicate with MSK
# EXISTING_SECURITY_GROUP_IDS=sg-0123456789abcdef0,sg-0123456789abcdef1

# ==============================================
# IAM Roles (REQUIRED)
# ==============================================
# These roles must be created manually before deployment

# ECS Task Execution Role ARN (REQUIRED)
# This role allows ECS to pull images and write logs
# Format: arn:aws:iam::account:role/role-name
ECS_TASK_EXECUTION_ROLE_ARN=arn:aws:iam::123456789012:role/your-ecs-task-execution-role

# ECS Task Role ARN (REQUIRED)  
# This role is used by the running container
# Format: arn:aws:iam::account:role/role-name
ECS_TASK_ROLE_ARN=arn:aws:iam::123456789012:role/your-ecs-task-role

# Lambda Execution Role ARN (optional)
# If not provided, a new role will be created
# Format: arn:aws:iam::account:role/role-name
# EXISTING_LAMBDA_ROLE_ARN=arn:aws:iam::123456789012:role/your-lambda-role

# ==============================================
# Auth0 M2M Configuration (REQUIRED)
# ==============================================
# Get these from your Auth0 dashboard

AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret

# Optional: Override Auth0 endpoints (defaults shown)
# AUTH0_URL=https://topcoder-dev.auth0.com/oauth/token
# AUTH0_AUDIENCE=https://m2m.topcoder-dev.com/
# AUTH0_PROXY_URL=https://auth0proxy.topcoder-dev.com/token

# ==============================================
# API Configuration (Optional)
# ==============================================

# SUBMISSION_API_URL=https://api.topcoder-dev.com/v6
# REVIEW_SCORECARD_ID=30001852
# REVIEW_TYPE_NAME=MMScorer

# ==============================================
# Infrastructure Names (Optional)
# ==============================================
# Only used when creating NEW resources

# MSK_CLUSTER_NAME=match-scorer
# ECS_CLUSTER_NAME=match-scorer-ecs-cluster
# LOG_GROUP_NAME=/ecs/match-scorer

# ==============================================
# Lambda Settings (Optional)
# ==============================================

# TASK_TIMEOUT_SECONDS=60
# MAX_RETRIES=3

# ==============================================
# Logging (Optional)
# ==============================================

# LOG_LEVEL=debug
